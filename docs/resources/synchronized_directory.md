---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "etcd_synchronized_directory Resource - terraform-provider-etcd"
subcategory: ""
description: |-
  Synchronizes the content of an key prefix and directory. Note that etcd is has a default max object size of 1.5MiB and is most suitable for keys that are bounded to a small size like configurations. Use another solution for larger files. Also, currently, only file systems following the unix convention are supported.
---

# etcd_synchronized_directory (Resource)

Synchronizes the content of an key prefix and directory. Note that etcd is has a default max object size of 1.5MiB and is most suitable for keys that are bounded to a small size like configurations. Use another solution for larger files. Also, currently, only file systems following the unix convention are supported.

## Example Usage

```terraform
//Upload some prometheus configs
resource "etcd_synchronized_directory" "prometheus_confs" {
    provider = etcdnew
    directory = "${path.module}/prometheus-confs"
    key_prefix = "/prometheus-confs/"
    source = "directory"
    recurrence = "once"
}

//sync key range in etcdnew with the one in etcdold
resource "etcd_synchronized_directory" "source" {
    provider = etcdold
    directory = "/tmp/prefix-to-transfer"
    key_prefix = "/prefix-to-transfer/"
    source = "key-prefix"
    recurrence = "once"
}

resource "etcd_synchronized_directory" "destination" {
    provider = etcdnew
    directory = "/tmp/prefix-to-transfer"
    key_prefix = "/prefix-to-transfer/"
    source = "directory"
    recurrence = "once"

    depends_on = [etcd_synchronized_directory.source]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- **directory** (String) Directory to synchronize with the key prefix.
- **key_prefix** (String) Key prefix to synchronize with the directory.
- **source** (String) Authoritative source of data during the sync (data will move from the source to the destination). Can be one of: directory, key-prefix

### Optional

- **directory_permission** (String) Permission of generated directories if the directory is the destination and missing.
- **files_permission** (String) Permission of generated files in the case where the directory is the destination.
- **id** (String) The ID of this resource.
- **recurrence** (String) Defines when the resource should be recreated to trigger a resync. Can be set to once, onchange or always. Note that onchange looks for change during the plan phase only so consider setting it to always if another terraform resource in your script changes the source.


